(window.webpackJsonp=window.webpackJsonp||[]).push([[304],{802:function(a,s,t){"use strict";t.r(s);var n=t(17),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"云展踩坑日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#云展踩坑日志"}},[a._v("#")]),a._v(" 云展踩坑日志")]),a._v(" "),t("h2",{attrs:{id:"_1-添加-feign-的api-模块时-报错-already-been-defined"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-添加-feign-的api-模块时-报错-already-been-defined"}},[a._v("#")]),a._v(" 1.添加 feign 的api 模块时 报错 already been defined")]),a._v(" "),t("div",{staticClass:"language-log line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-log"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[a._v("Description:")]),a._v("\nThe bean "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'remoteUserService.FeignClientSpecification'")]),a._v(" could not be registered"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v(" A bean with that name has already been defined and overriding is disabled"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h3",{attrs:{id:"原因-可能是-新api模块-feignclient-的-contextid命名重复"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原因-可能是-新api模块-feignclient-的-contextid命名重复"}},[a._v("#")]),a._v(" 原因: 可能是 新api模块   FeignClient 的 contextId命名重复")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@FeignClient")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("contextId "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"remoteUserService"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" value "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ServiceNameConstants")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("YXN_CLOUD_SERVICE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" fallbackFactory "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("RemotePetFallbackFactory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("RemotePetService")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//  contextId 错误 改成 RemotePetService 新的对应远程服务")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h2",{attrs:{id:"_2-有些类无法自动注入-autowired-required-true"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-有些类无法自动注入-autowired-required-true"}},[a._v("#")]),a._v(" 2.有些类无法自动注入 Autowired(required=true)")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Autowired")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("private")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("RemotePetService")]),a._v(" remotePetService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Field")]),a._v(" remotePetService in "),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("ruoyi"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("system"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("controller"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")])]),a._v("SysDictDataController")]),a._v(" required a bean of type "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'net.youxiniao.cloud.api.RemotePetService'")]),a._v(" that could not be "),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("found"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")])]),a._v("\nThe")]),a._v(" injection point has the following annotations"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@org.springframework.beans.factory.annotation.Autowired")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("required"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h3",{attrs:{id:"原因-包的自动扫描注册问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原因-包的自动扫描注册问题"}},[a._v("#")]),a._v(" 原因 ：包的自动扫描注册问题")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//  这是 自定义feign注解 若依项目")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Target")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ElementType")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("TYPE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Retention")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("RetentionPolicy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("RUNTIME"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Documented")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@EnableFeignClients")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@interface")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EnableRyFeignClients")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("value")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("default")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("basePackages")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("default")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.ruoyi"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"net.youxiniao"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('// 若依的项目 添加自己的 包名前缀  "net.youxiniao"')]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br")])]),t("p",[a._v("下面的是另一种 spring 自己注解 在启动类加上")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@ComponentScan")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("basePackages "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.ruoyi"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"net.youxiniao"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("RuoYiSystemApplication")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h2",{attrs:{id:"_3-远程服务-抛异常直接返回时-调用服务的需要去识别是否异常进行处理-再返回"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-远程服务-抛异常直接返回时-调用服务的需要去识别是否异常进行处理-再返回"}},[a._v("#")]),a._v(" 3.远程服务 抛异常直接返回时 调用服务的需要去识别是否异常进行处理 再返回")]),a._v(" "),t("p",[t("img",{attrs:{src:"http://img.alicbin.com/img/20220101193731.png",alt:"image-20220101193731155"}})]),a._v(" "),t("p",[a._v("否则  未使用返回值出错时 是无处理的")]),a._v(" "),t("h2",{attrs:{id:"_4-项目整合seata后出现nettyclientchannelmanager"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-项目整合seata后出现nettyclientchannelmanager"}},[a._v("#")]),a._v(" 4.项目整合seata后出现NettyClientChannelManager")]),a._v(" "),t("div",{staticClass:"language-log line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-log"}},[t("code",[t("span",{pre:!0,attrs:{class:"token date number"}},[a._v("2022-01-04")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token time number"}},[a._v("18:18:31.909")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token level error important"}},[a._v("ERROR")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("84931")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token separator comment"}},[a._v("---")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("eoutChecker_2_1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("netty"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("NettyClientChannelManager  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" no available service "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'null'")]),a._v(" found"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" please make sure registry config correct\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("原因:")]),a._v(" "),t("p",[a._v("出现此错误的原因是未能根据file.conf中vgroupMapping对应的值找到对应的service，根据规范修改该配置。默认情况下查找到是"),t("code",[a._v("${spring.applicaiton.name}-fescar-service-group")]),a._v("，可参考官方给出的"),t("a",{attrs:{href:"https://github.com/seata/seata-samples/blob/master/springcloud-jpa-seata/order-service/src/main/resources/file.conf",target:"_blank",rel:"noopener noreferrer"}},[a._v("Demo"),t("OutboundLink")],1),a._v("进行修改。")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/qq_30718137/article/details/118055773",target:"_blank",rel:"noopener noreferrer"}},[a._v("详细问题介绍"),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://seata.io/zh-cn/docs/user/configurations.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("官网配置说明"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("img",{attrs:{src:"http://img.alicbin.com/img/20220104211944.png",alt:"image-20220104211944196"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"http://img.alicbin.com/img/20220104211951.png",alt:"在这里插入图片描述"}})]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("/Users/mac/Desktop/开发/优息云展/skywalking-agent/skywalking-agent.jar\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("-javaagent:/Users/mac/Documents/work/java/skywalking/skywalking-agent.jar\n-Dskywalking.agent.service_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yxn-cloud\n-Dskywalking.collector.backend_service"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("localhost:11800\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("-javaagent:/Users/mac/Desktop/开发/优息云展/apache-skywalking-apm-bin/agent/skywalking-agent.jar\n-Dskywalking.agent.service_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yxnCloud \n-Dskywalking.collector.backend_service"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1:11800\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Mac 下查看端口是否被占用\n \n1. Mac\n\nlsof -i :8080\n\n2. CentOS\n\nnetstat -anp tcp | grep 8080\n3.\nnc -w 10 -n -z 127.0.0.1 8070-8090\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);