(window.webpackJsonp=window.webpackJsonp||[]).push([[277],{775:function(t,e,s){"use strict";s.r(e);var r=s(17),o=Object(r.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"阿里云oss获取ststoken-总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#阿里云oss获取ststoken-总结"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://www.cnblogs.com/zjhblogs/p/16483951.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("阿里云OSS获取STSToken 总结"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.cnblogs.com/zjhblogs/p/16483951.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"使用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景：")]),t._v(" "),s("p",[t._v("前端需要上传文件/图片 存储到阿里云OSS，然后使用官方推荐的STS授权访问方法，此文章就是场景中获取OSS授权token的教程。")]),t._v(" "),s("h3",{attrs:{id:"获取oss-token流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取oss-token流程"}},[t._v("#")]),t._v(" 获取oss token流程")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://img2022.cnblogs.com/blog/887034/202207/887034-20220716121122152-586007003.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img2022.cnblogs.com/blog/887034/202207/887034-20220716121122152-586007003.png",alt:"img"}}),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"_1-创建oss权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建oss权限"}},[t._v("#")]),t._v(" 1.创建OSS权限")]),t._v(" "),s("ul",[s("li",[t._v("登录阿里云主账号，进入控制台")]),t._v(" "),s("li",[t._v("选择 “对象存储 OSS”")]),t._v(" "),s("li",[t._v("找到 “安全令牌（子账号授权）” 点击进入，开始快捷配置\n"),s("a",{attrs:{href:"https://img2022.cnblogs.com/blog/887034/202207/887034-20220716121256026-757889632.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img2022.cnblogs.com/blog/887034/202207/887034-20220716121256026-757889632.png",alt:"img"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://img2022.cnblogs.com/blog/887034/202207/887034-20220716121626656-712032164.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img2022.cnblogs.com/blog/887034/202207/887034-20220716121626656-712032164.png",alt:"img"}}),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("配置完成后会得到 AccessKey ID 和 AccessKey Secret 保存好")])]),t._v(" "),s("h4",{attrs:{id:"_2-获取配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-获取配置"}},[t._v("#")]),t._v(" 2.获取配置")]),t._v(" "),s("ul",[s("li",[t._v("控制台-> 管理与治理 -> 访问控制 或者直接输入网址 “https://ram.console.aliyun.com/overview”")]),t._v(" "),s("li",[t._v("选择角色菜单")]),t._v(" "),s("li",[t._v("找到 AliyunOSSTokenGeneratorRole 角色 点击进入")]),t._v(" "),s("li",[t._v("复制基本信息中的RAM")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://img2022.cnblogs.com/blog/887034/202207/887034-20220716122319700-161767360.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img2022.cnblogs.com/blog/887034/202207/887034-20220716122319700-161767360.png",alt:"img"}}),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://img2022.cnblogs.com/blog/887034/202207/887034-20220716125504491-1557821636.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img2022.cnblogs.com/blog/887034/202207/887034-20220716125504491-1557821636.png",alt:"img"}}),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"_3-接口测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-接口测试"}},[t._v("#")]),t._v(" 3.接口测试")]),t._v(" "),s("ul",[s("li",[t._v("进入控制台-> 管理与治理 -> 访问控制 或者直接输入网址 “https://ram.console.aliyun.com/overview”")]),t._v(" "),s("li",[t._v("创建一个拥有所有权限的子账号，因为测试接口主账号不能调用，所以需要创建一个子账号")]),t._v(" "),s("li",[t._v("退出主账号，登录刚刚创建的子账号")]),t._v(" "),s("li",[t._v("进入网址 https://next.api.aliyun.com/api/Sts/2015-04-01/AssumeRole")]),t._v(" "),s("li",[t._v("填写 RoleArn （就是2.获取配置中复制的RAM）")]),t._v(" "),s("li",[t._v("填写 RoleSessionName （自己随便填一个名字）")]),t._v(" "),s("li",[t._v("点击发起调用")]),t._v(" "),s("li",[t._v("如果返回200 就说明OK了 接下来，服务端sdk配置 就不用教了吧")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://img2022.cnblogs.com/blog/887034/202207/887034-20220716125313062-1248706709.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img2022.cnblogs.com/blog/887034/202207/887034-20220716125313062-1248706709.png",alt:"img"}}),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"附-使用sts临时访问凭证访问oss官方文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附-使用sts临时访问凭证访问oss官方文档"}},[t._v("#")]),t._v(" 附：使用STS临时访问凭证访问OSS官方文档：")]),t._v(" "),s("p",[t._v("https://help.aliyun.com/document_detail/100624.html?spm=5176.8465980.security-token.dhelp.34b71450QjQJpV")]),t._v(" "),s("p",[t._v('{"requestId":"14D8C59A-FBBA-5EB5-9C1E-11B024D9050F","credentials":{"securityToken":"CAIShQJ1q6Ft5B2yfSjIr5bMKoOAmrRL37amSnTJjzktWLtYrP3viDz2IH9FenJrCO4Wsv03m2FQ6f8flqJ0UIRyXkHec8p748zgRKlZt9KT1fau5Jko1beHewHKeTOZsebWZ+LmNqC/Ht6md1HDkAJq3LL+bk/Mdle5MJqP+/UFB5ZtKWveVzddA8pMLQZPsdITMWCrVcygKRn3mGHdfiEK00he8Tols/3hmZfHukKC3AOmkLMvyt6vcsT+Xa5FJ4xiVtq55utye5fa3TRYgxowr/gn0vcfqGmX4ojFXAgJvEzbKZnd9tx+MQl+fbMmHK1Jqvfxk/Bis/DUjZ7wzxtdzQ/qm9tVueoagAEfuhTrmcGQoavaqMoN4z8wldkQCECdJoKo6XbG7slGny7jOF2rbHm3B0flVOVFBSwkiaKOZaekzVR8kJhuSP89UaV4v3Rs6l4AJQbZUuD80Db32jR8Dryn3JHxcTMMeTUUp56qaGFA30Sr+tJkDH0lvj57GXXZ0S3X/qlIp2pmjg\\u003d\\u003d","accessKeySecret":"GkediD1pzZrnY8y51pAkFRQmftyaBLHVCYfAFrtkYNj8","accessKeyId":"STS.NUya94wkjhtMHRxk9xT4tC8Dj","expiration":"2022-10-10T13:23:36Z"},"assumedRoleUser":{"arn":"acs🐏:1221632380486424:role/aliyunosstokengeneratorrole/oss_service","assumedRoleId":"379633968410790715:oss_service"}}')])])}),[],!1,null,null,null);e.default=o.exports}}]);